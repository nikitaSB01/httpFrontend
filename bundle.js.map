{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://httpfrontend/./src/js/frontend.js","webpack://httpfrontend/webpack/bootstrap","webpack://httpfrontend/webpack/runtime/compat get default export","webpack://httpfrontend/webpack/runtime/define property getters","webpack://httpfrontend/webpack/runtime/hasOwnProperty shorthand"],"sourcesContent":["const API_URL = \"https://httpserver-1-74d4.onrender.com/\";\nlet selectedTicketId = null;\n\ndocument.getElementById(\"addTicketButton\").addEventListener(\"click\", () => {\n  openTicketModal(\"Добавить тикет\");\n});\n\ndocument\n  .getElementById(\"cancelButton\")\n  .addEventListener(\"click\", closeTicketModal);\ndocument\n  .getElementById(\"ticketForm\")\n  .addEventListener(\"submit\", handleFormSubmit);\ndocument\n  .getElementById(\"cancelDeleteButton\")\n  .addEventListener(\"click\", closeDeleteModal);\ndocument\n  .getElementById(\"confirmDeleteButton\")\n  .addEventListener(\"click\", confirmDeleteTicket);\n\nasync function fetchTickets() {\n  try {\n    const response = await fetch(API_URL);\n    if (!response.ok) throw new Error(\"Failed to fetch tickets\");\n    return await response.json();\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nfunction renderTicketsList(tickets) {\n  const container = document.getElementById(\"ticketsList\");\n  container.innerHTML = \"\";\n  tickets.forEach((ticket) => {\n    const ticketElement = document.createElement(\"div\");\n    ticketElement.className = \"ticket\";\n    ticketElement.innerHTML = `\n      <div class=\"ticket-content\">\n        <div class=\"ticket-content-checkbox-ticket\">\n            <input type=\"checkbox\" class=\"ticket-status\" ${ticket.status ? \"checked\" : \"\"}>\n            <span class=\"ticket-name\">${ticket.name}</span>\n        </div>  \n        <div class=\"ticket-content-button-date\">\n            <span class=\"ticket-date\">${new Date(ticket.created).toLocaleString()}</span>\n            <button class=\"edit-button\">✎</button>\n            <button class=\"delete-button\">❌</button>\n         </div>\n      </div>\n      <div class=\"ticket-details\" style=\"display: none;\" id=\"details-${ticket.id}\"></div>\n    `;\n\n    // Добавление обработчика клика для отображения деталей тикета\n    ticketElement\n      .querySelector(\".ticket-content\")\n      .addEventListener(\"click\", (event) => {\n        if (\n          event.target.classList.contains(\"ticket-status\") ||\n          event.target.classList.contains(\"edit-button\") ||\n          event.target.classList.contains(\"delete-button\")\n        ) {\n          return;\n        }\n        showTicketDetails(ticket.id);\n      });\n\n    // Добавление обработчика для отметки выполнения тикета\n    ticketElement\n      .querySelector(\".ticket-status\")\n      .addEventListener(\"change\", (event) => {\n        toggleStatus(event, ticket.id);\n      });\n\n    // Добавление обработчика для кнопки редактирования тикета\n    ticketElement\n      .querySelector(\".edit-button\")\n      .addEventListener(\"click\", (event) => {\n        event.stopPropagation();\n        editTicket(ticket.id);\n      });\n\n    // Добавление обработчика для кнопки удаления тикета\n    ticketElement\n      .querySelector(\".delete-button\")\n      .addEventListener(\"click\", (event) => {\n        event.stopPropagation();\n        openDeleteModal(ticket.id);\n      });\n\n    container.appendChild(ticketElement);\n  });\n}\n\nfunction openTicketModal(title) {\n  document.getElementById(\"modalTitle\").textContent = title;\n  document.getElementById(\"ticketModal\").style.display = \"flex\";\n}\n\nfunction closeTicketModal() {\n  document.getElementById(\"ticketModal\").style.display = \"none\";\n  document.getElementById(\"ticketForm\").reset();\n  selectedTicketId = null;\n}\n\nasync function handleFormSubmit(event) {\n  event.preventDefault();\n  const name = document.getElementById(\"ticketName\").value;\n  const description = document.getElementById(\"ticketDescription\").value;\n  const ticket = { name, description };\n\n  if (selectedTicketId) {\n    await updateTicket(selectedTicketId, ticket);\n  } else {\n    await createTicket(ticket);\n  }\n\n  closeTicketModal();\n  const tickets = await fetchTickets();\n  renderTicketsList(tickets);\n}\n\nfunction openDeleteModal(id) {\n  selectedTicketId = id;\n  document.getElementById(\"deleteModal\").style.display = \"flex\";\n}\n\nfunction closeDeleteModal() {\n  document.getElementById(\"deleteModal\").style.display = \"none\";\n  selectedTicketId = null;\n}\n\nasync function confirmDeleteTicket() {\n  if (selectedTicketId) {\n    await deleteTicket(selectedTicketId);\n    const tickets = await fetchTickets();\n    renderTicketsList(tickets);\n  }\n  closeDeleteModal();\n}\n\nasync function createTicket(ticket) {\n  await fetch(API_URL, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(ticket),\n  });\n}\n\nasync function updateTicket(id, ticket) {\n  await fetch(`${API_URL}/${id}`, {\n    method: \"PUT\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(ticket),\n  });\n}\n\nasync function deleteTicket(id) {\n  await fetch(`${API_URL}/${id}`, { method: \"DELETE\" });\n}\n\n// Функция для переключения статуса тикета\nasync function toggleStatus(event, id) {\n  event.stopPropagation();\n  const isChecked = event.target.checked;\n  await updateTicket(id, { status: isChecked });\n  const tickets = await fetchTickets();\n  renderTicketsList(tickets);\n}\n\n// Функция для отображения деталей тикета\nasync function showTicketDetails(id) {\n  const detailsContainer = document.getElementById(`details-${id}`);\n  if (detailsContainer.style.display === \"none\") {\n    const ticket = await fetchTicketById(id);\n    detailsContainer.innerHTML = `\n      <p>${ticket.description}</p>\n    `;\n    detailsContainer.style.display = \"block\";\n  } else {\n    detailsContainer.style.display = \"none\";\n  }\n}\n\n// Функция для редактирования тикета\nasync function editTicket(id) {\n  selectedTicketId = id;\n  const ticket = await fetchTicketById(id);\n  document.getElementById(\"ticketName\").value = ticket.name;\n  document.getElementById(\"ticketDescription\").value = ticket.description;\n  openTicketModal(\"Изменить тикет\");\n}\n\n// Функция для получения данных одного тикета\nasync function fetchTicketById(id) {\n  try {\n    const response = await fetch(`${API_URL}/${id}`);\n    if (!response.ok) throw new Error(\"Failed to fetch ticket by ID\");\n    return await response.json();\n  } catch (error) {\n    console.error(error);\n  }\n}\n\n// Инициализация списка тикетов при загрузке страницы\ndocument.addEventListener(\"DOMContentLoaded\", async () => {\n  const tickets = await fetchTickets();\n  renderTicketsList(tickets);\n});\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }"],"names":["API_URL","selectedTicketId","async","fetchTickets","response","fetch","ok","Error","json","error","console","renderTicketsList","tickets","container","document","getElementById","innerHTML","forEach","ticket","ticketElement","createElement","className","status","name","Date","created","toLocaleString","id","querySelector","addEventListener","event","target","classList","contains","detailsContainer","style","display","fetchTicketById","description","showTicketDetails","stopPropagation","isChecked","checked","updateTicket","toggleStatus","value","openTicketModal","editTicket","appendChild","title","textContent","closeTicketModal","reset","closeDeleteModal","method","headers","body","JSON","stringify","preventDefault","createTicket","deleteTicket","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","n","getter","__esModule","d","a","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call"],"sourceRoot":""}