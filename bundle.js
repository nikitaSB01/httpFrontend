!function(){var t={709:function(){const t="https://httpserver-1-74d4.onrender.com/";let e=null;async function n(){try{const e=await fetch(t);if(!e.ok)throw new Error("Failed to fetch tickets");return await e.json()}catch(t){console.error(t)}}function c(t){const o=document.getElementById("ticketsList");o.innerHTML="",t.forEach((t=>{const a=document.createElement("div");a.className="ticket",a.innerHTML=`\n      <div class="ticket-content">\n        <div class="ticket-content-checkbox-ticket">\n            <input type="checkbox" class="ticket-status" ${t.status?"checked":""}>\n            <span class="ticket-name">${t.name}</span>\n        </div>  \n        <div class="ticket-content-button-date">\n            <span class="ticket-date">${new Date(t.created).toLocaleString()}</span>\n            <button class="edit-button">✎</button>\n            <button class="delete-button">❌</button>\n         </div>\n      </div>\n      <div class="ticket-details" style="display: none;" id="details-${t.id}"></div>\n    `,a.querySelector(".ticket-content").addEventListener("click",(e=>{e.target.classList.contains("ticket-status")||e.target.classList.contains("edit-button")||e.target.classList.contains("delete-button")||async function(t){const e=document.getElementById(`details-${t}`);if("none"===e.style.display){const n=await d(t);e.innerHTML=`\n      <p>${n.description}</p>\n    `,e.style.display="block"}else e.style.display="none"}(t.id)})),a.querySelector(".ticket-status").addEventListener("change",(e=>{!async function(t,e){t.stopPropagation();const i=t.target.checked;await s(e,{status:i});const o=await n();c(o)}(e,t.id)})),a.querySelector(".edit-button").addEventListener("click",(n=>{n.stopPropagation(),async function(t){e=t;const n=await d(t);document.getElementById("ticketName").value=n.name,document.getElementById("ticketDescription").value=n.description,i("Изменить тикет")}(t.id)})),a.querySelector(".delete-button").addEventListener("click",(n=>{var c;n.stopPropagation(),c=t.id,e=c,document.getElementById("deleteModal").style.display="flex"})),o.appendChild(a)}))}function i(t){document.getElementById("modalTitle").textContent=t,document.getElementById("ticketModal").style.display="flex"}function o(){document.getElementById("ticketModal").style.display="none",document.getElementById("ticketForm").reset(),e=null}function a(){document.getElementById("deleteModal").style.display="none",e=null}async function s(e,n){await fetch(`${t}/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})}async function d(e){try{const n=await fetch(`${t}/${e}`);if(!n.ok)throw new Error("Failed to fetch ticket by ID");return await n.json()}catch(t){console.error(t)}}document.getElementById("addTicketButton").addEventListener("click",(()=>{i("Добавить тикет")})),document.getElementById("cancelButton").addEventListener("click",o),document.getElementById("ticketForm").addEventListener("submit",(async function(i){i.preventDefault();const a=document.getElementById("ticketName").value,d=document.getElementById("ticketDescription").value,l={name:a,description:d};e?await s(e,l):await async function(e){await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}(l);o();c(await n())})),document.getElementById("cancelDeleteButton").addEventListener("click",a),document.getElementById("confirmDeleteButton").addEventListener("click",(async function(){if(e){await async function(e){await fetch(`${t}/${e}`,{method:"DELETE"})}(e);c(await n())}a()})),document.addEventListener("DOMContentLoaded",(async()=>{c(await n())}))}},e={};function n(c){var i=e[c];if(void 0!==i)return i.exports;var o=e[c]={exports:{}};return t[c](o,o.exports,n),o.exports}n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var c in e)n.o(e,c)&&!n.o(t,c)&&Object.defineProperty(t,c,{enumerable:!0,get:e[c]})},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){"use strict";n(709)}()}();
//# sourceMappingURL=bundle.js.map